<%# locals: (style:, link_to_creation: true) %>
<div class="flex-shrink-0 w-40 snap-start">
  <% href = link_to_creation ? new_creation_path(style: style.slug) : "#" %>
  <a href="<%= href %>" class="block" data-turbo-action="advance">
    <div class="aspect-[3/4] rounded-xl overflow-hidden bg-forma-gray-100">
      <% if style.cover_image.attached? %>
        <%= image_tag style.cover_thumb, class: "w-full h-full object-cover", loading: "lazy" %>
      <% else %>
        <div class="w-full h-full flex items-center justify-center text-forma-gray-300">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-10">
            <path fill-rule="evenodd" d="M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z" clip-rule="evenodd" />
          </svg>
        </div>
      <% end %>
    </div>
    <p class="mt-2 text-sm font-medium truncate"><%= style.name %></p>
    <% if style.tags.any? %>
      <div class="flex flex-wrap gap-1 mt-1">
        <% style.tags.limit(3).each do |tag| %>
          <span class="text-[10px] text-forma-gray-500 bg-forma-gray-100 rounded-full px-2 py-0.5"><%= tag.name %></span>
        <% end %>
      </div>
    <% end %>
  </a>
</div>
