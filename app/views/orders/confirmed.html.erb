<% content_for(:title) { "Заказ принят — FORMA" } %>

<div class="pt-8 pb-4">
  <div class="px-4 text-center">
    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8 text-green-600">
        <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd" />
      </svg>
    </div>

    <h1 class="text-xl font-bold">Заказ принят!</h1>
    <p class="text-forma-gray-500 mt-2">Номер заказа</p>
    <p class="text-lg font-mono font-bold mt-1"><%= @order.order_number %></p>
  </div>

  <%# Штрихкод %>
  <div class="px-4 mt-6 flex justify-center">
    <div class="p-4 bg-white border border-forma-gray-200 rounded-xl">
      <% barcode_png = Orders::BarcodeGenerator.call(@order) %>
      <%= image_tag "data:image/png;base64,#{Base64.strict_encode64(barcode_png)}",
          alt: @order.barcode_value, class: "h-16" %>
      <p class="text-xs text-center text-forma-gray-500 mt-2 font-mono"><%= @order.barcode_value %></p>
    </div>
  </div>

  <div class="px-4 mt-6 space-y-3">
    <%= link_to "Мой заказ", order_path(@order),
        class: "block w-full py-3.5 rounded-xl text-sm font-semibold text-white bg-forma-black text-center" %>
    <%= link_to "На главную", root_path,
        class: "block w-full py-3.5 rounded-xl text-sm font-semibold text-forma-black bg-forma-gray-100 text-center" %>
  </div>
</div>
