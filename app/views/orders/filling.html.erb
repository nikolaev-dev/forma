<% content_for(:title) { "Наполнение — FORMA" } %>

<div class="pt-8 pb-4">
  <div class="px-4">
    <h1 class="text-xl font-bold">Выберите наполнение</h1>
    <p class="text-sm text-forma-gray-500 mt-1">Внутренний блок блокнота</p>
  </div>

  <div class="px-4 mt-6 grid grid-cols-2 gap-3">
    <% @fillings.each do |filling| %>
      <%= link_to set_filling_order_path(@order, filling_id: filling.id, design_id: @design_id || params[:design_id]),
                  method: :patch,
                  data: { turbo_method: :patch },
                  class: "block rounded-xl border border-forma-gray-200 p-4 text-center hover:border-forma-black transition-colors" do %>
        <% if filling.preview_spread_image.attached? %>
          <%= image_tag filling.preview_spread_image, class: "w-full aspect-[4/3] object-cover rounded-lg mb-3" %>
        <% else %>
          <div class="w-full aspect-[4/3] rounded-lg mb-3 bg-forma-gray-100 flex items-center justify-center">
            <span class="text-2xl text-forma-gray-300">
              <%= filling_type_icon(filling.filling_type) %>
            </span>
          </div>
        <% end %>
        <p class="text-sm font-medium"><%= filling.name %></p>
      <% end %>
    <% end %>
  </div>
</div>
