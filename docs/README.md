# FORMA — Документация проекта

> Конструктор блокнотов с курацией и генерацией дизайна
> Версия документации: **v0.1** | Дата: 2026-02-14

## Навигация

| Документ | Описание |
|----------|----------|
| [CHANGELOG.md](./CHANGELOG.md) | История изменений документации |
| [PLAN.md](./PLAN.md) | Пошаговый план реализации с чеклистом |

### Спецификация v0.1

| # | Файл | Описание |
|---|------|----------|
| 1 | [Общее описание](./v0.1/01-overview.md) | Цель, стек, бренд FORMA, роли |
| 2 | [Пользовательские истории](./v0.1/02-user-stories.md) | Сценарии, UX-флоу, экраны, карта переходов |
| 3 | [Публичная часть](./v0.1/03-public.md) | Каталог, поиск, популярное, ремиксы, шаринг |
| 4 | [Админка](./v0.1/04-admin.md) | Управление тегами, стилями, курация, заказы, дропы |
| 5 | [Генерация](./v0.1/05-generation.md) | Пайплайн, мутации, провайдеры, модерация |
| 6 | [Хранилище](./v0.1/06-storage.md) | Модель данных, схема БД, файлы, S3 |
| 7 | [Заказы и оплата](./v0.1/07-orders-payments.md) | ЮKassa, штрихкоды, статусы, лимиты |

## Технологический стек

- **Backend:** Ruby on Rails
- **DB:** PostgreSQL
- **Очереди:** Sidekiq + Redis
- **Хранилище файлов:** S3-compatible (Yandex Object Storage / MinIO / AWS S3)
- **Оплата:** ЮKassa (webhooks)
- **Аутентификация:** OAuth (VK, Яндекс, T-Bank, Альфа, Gmail)

## Конвенции

- **Enum:** только строчные (string), не integer. Пример: `status: "draft"`, не `status: 0`
- **Деньги:** integer в копейках (`*_cents`), `currency: "RUB"`
- **Публичные ID:** HashID 6 символов (gem `hashid-rails`), вычисляется из `id`, не хранится в БД
- **Публичные URL:** сущности с человекочитаемыми URL используют `slug` (styles, tags, designs, drops, fillings)
- **Файлы:** ActiveStorage + S3-compatible
